shared integer money = 0;
integer i = 0;
while (i < 10) {
    i = i + 1;
    synchronized {
        money = money + 100;
    }
}
i = 0;
while (i < 10) {
    i = i + 1;
    synchronized {
        money = money - 50;
    }
}